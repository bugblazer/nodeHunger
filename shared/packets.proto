syntax = "proto3";

package packets;
option go_package = "pkg/packets";

message ChatMessage {
  string msg = 1;
}
message IdMessage {
  uint64 id = 1;
}
message LoginRequestMessage {
  string username = 1;
  string password = 2;
}
message RegisterRequestMessage {
  string username = 1;
  string password = 2;
}
message OkResponseMessage {
  //Leaving empty, since no message is needed in this case
}
message DenyResponseMessage {
  string reason = 2;
}

// Creating a wrapper named Packet that packs any message with the sender id
message Packet {
  uint64 sender_id = 1;
  oneof msg {
    ChatMessage chat = 2;
    IdMessage id = 3;
    LoginRequestMessage login_request = 4;
    RegisterRequestMessage register_request = 5;
    OkResponseMessage ok_response = 6;
    DenyResponseMessage deny_response = 7;
  }
}